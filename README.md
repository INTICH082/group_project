# üß† Quiz Logic API (Main Module)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ –Ω–∞ Go –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–∏–≤—è–∑–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –∫—É—Ä—Å–∞–º –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—É—é —Ä–∞–±–æ—Ç—É —Å –æ–±–ª–∞—á–Ω—ã–º–∏ –ë–î.

## üíé –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT:** –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ `user_id` –∏ `course_id` –ø—Ä—è–º–æ –≤ —Ç–æ–∫–µ–Ω–µ.
* **–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å:** –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ (Student / Teacher / Admin).
* **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å:** –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ –∏ –µ–≥–æ –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫—É—Ä—Å—É –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ.
* **CORS Enabled:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ª—é–±—ã—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø–ª–æ—â–∞–¥–æ–∫ (React, Vue, Telegram WebApps).
* **Resilience (–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å):** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ¬´–∑–∞—Å—ã–ø–∞—é—â–∏–º–∏¬ª –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ Neon DB –∏ Render.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Language:** Go 1.22+
* **Database:** PostgreSQL (Neon DB)
* **Deployment:** Render (Cloud PaaS)
* **Auth:** JWT (HS256)
* **Middleware:** –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è CORS –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## üöÄ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### üéì –î–ª—è –≤—Å–µ—Ö (Auth Required)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| `GET` | `/questions` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∫—É—Ä—Å–∞ (–∏–∑ —Ç–æ–∫–µ–Ω–∞) |
| `POST` | `/submit` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ |

### üë®‚Äçüè´ –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–æ–≤

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| `POST` | `/teacher/create` | –°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å –µ–≥–æ –∫ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É |
| `DELETE` | `/teacher/delete?id=X` | –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ (–∫–∞—Å–∫–∞–¥–Ω–æ–µ) |

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ER)

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ (–ë–∞–Ω–∫ –¥–∞–Ω–Ω—ã—Ö)
questions (id, text, options [jsonb], correct_answer)

-- –°–≤—è–∑—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ (Many-to-Many)
course_questions (course_id, question_id [FK CASCADE])

-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (UPSERT –ª–æ–≥–∏–∫–∞)
results (user_id, course_id, score, created_at)

```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/your-username/project.git
cd project

```


2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):**
```env
DATABASE_URL=postgres://user:pass@ep-lucky-art-123.neon.tech/dbname
PORT=8080

```


3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
go run main.go auth.go database.go

```



## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Resilience Test)

–í –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–µ–Ω —Å–∫—Ä–∏–ø—Ç `test.go` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –≤ —É—Å–ª–æ–≤–∏—è—Ö ¬´—Ö–æ–ª–æ–¥–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞¬ª —Å–µ—Ä–≤–µ—Ä–∞.
**–õ–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∞:**

1. –ü—Ä–æ–≥—Ä–µ–≤ —Å–µ—Ä–≤–µ—Ä–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏.
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞.
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ–≥–æ –Ω–∞–ª–∏—á–∏—è –≤ –±–∞–∑–µ.
4. –£–¥–∞–ª–µ–Ω–∏–µ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–µ—Ä–∫–∞.

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞:

```bash
go run test.go

```

